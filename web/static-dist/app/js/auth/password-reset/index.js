!function(e){function r(r){for(var n,s,i=r[0],c=r[1],d=r[2],l=0,f=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(r);f.length;)f.shift()();return o.push.apply(o,d||[]),t()}function t(){for(var e,r=0;r<o.length;r++){for(var t=o[r],n=!0,i=1;i<t.length;i++){var c=t[i];0!==a[c]&&(n=!1)}n&&(o.splice(r--,1),e=s(s.s=t[0]))}return e}var n={},a={131:0},o=[];function s(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=n,s.d=function(e,r,t){s.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,r){if(1&r&&(e=s(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)s.d(t,n,function(r){return e[r]}.bind(null,n));return t},s.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(r,"a",r),r},s.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},s.p="/static-dist/";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=r,i=i.slice();for(var d=0;d<i.length;d++)r(i[d]);var u=c;o.push([878,0]),t()}({177:function(e,r,t){"use strict";t.d(r,"a",(function(){return g}));var n=t(2),a=t.n(n),o=t(3),s=t.n(o),i=2654435769;function c(e,r){var t=e.length,n=t<<2;if(r){var a=e[t-1];if(a<(n-=4)-3||a>n)return null;n=a}for(var o=0;o<t;o++)e[o]=String.fromCharCode(255&e[o],e[o]>>>8&255,e[o]>>>16&255,e[o]>>>24&255);var s=e.join("");return r?s.substring(0,n):s}function d(e,r){var t,n=e.length,a=n>>2;0!=(3&n)&&++a,r?(t=new Array(a+1))[a]=n:t=new Array(a);for(var o=0;o<n;++o)t[o>>2]|=e.charCodeAt(o)<<((3&o)<<3);return t}function u(e){return 4294967295&e}function l(e,r,t,n,a,o){return(t>>>5^r<<2)+(r>>>3^t<<4)^(e^r)+(o[3&n^a]^t)}function f(e){return e.length<4&&(e.length=4),e}function h(e){if(/^[\x00-\x7f]*$/.test(e))return e;for(var r=[],t=e.length,n=0,a=0;n<t;++n,++a){var o=e.charCodeAt(n);if(o<128)r[a]=e.charAt(n);else if(o<2048)r[a]=String.fromCharCode(192|o>>6,128|63&o);else{if(!(o<55296||o>57343)){if(n+1<t){var s=e.charCodeAt(n+1);if(o<56320&&56320<=s&&s<=57343){var i=65536+((1023&o)<<10|1023&s);r[a]=String.fromCharCode(240|i>>18&63,128|i>>12&63,128|i>>6&63,128|63&i),++n;continue}}throw new Error("Malformed string")}r[a]=String.fromCharCode(224|o>>12,128|o>>6&63,128|63&o)}}return r.join("")}function m(e,r){return null==e||0===e.length?e:(e=h(e),r=h(r),c(function(e,r){var t,n,a,o,s,c,d=e.length,f=d-1;for(n=e[f],a=0,c=0|Math.floor(6+52/d);c>0;--c){for(o=(a=u(a+i))>>>2&3,s=0;s<f;++s)t=e[s+1],n=e[s]=u(e[s]+l(a,t,n,s,o,r));t=e[0],n=e[f]=u(e[f]+l(a,t,n,f,o,r))}return e}(d(e,!0),f(d(r,!1))),!1))}var g=function(){function e(){a()(this,e)}return s()(e,[{key:"getCoordinate",value:function(e,r){var t=r,n=e.screenX+","+e.screenY;return"1."+btoa(m(n,t))}}]),e}()},22:function(e,r){e.exports=jQuery},325:function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));var n=function e(r,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(r.addClass("disabled").attr("disabled",!0),t.data("count-down-text")||t.data("count-down-text",t.text()),t.text(n+" 秒后重新获取"),--n<0)return r.removeClass("disabled").attr("disabled",!1),t.text(t.data("count-down-text")),void a();setTimeout((function(){e(r,t,n,a)}),1e3)}},507:function(e,r){!function(e){"use strict";var r,t;void 0===e.btoa&&(e.btoa=(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),function(e){var t,n,a,o,s,i,c;for(n=a=0,o=e.length,i=(o-=s=o%3)/3<<2,s>0&&(i+=4),t=new Array(i);n<o;)c=e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<8|e.charCodeAt(n++),t[a++]=r[c>>18]+r[c>>12&63]+r[c>>6&63]+r[63&c];return 1==s?(c=e.charCodeAt(n++),t[a++]=r[c>>2]+r[(3&c)<<4]+"=="):2==s&&(c=e.charCodeAt(n++)<<8|e.charCodeAt(n++),t[a++]=r[c>>10]+r[c>>4&63]+r[(15&c)<<2]+"="),t.join("")})),void 0===e.atob&&(e.atob=(t=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],function(e){var r,n,a,o,s,i,c,d,u,l;if((c=e.length)%4!=0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(e))return"";for(u=c,(d="="==e.charAt(c-2)?1:"="==e.charAt(c-1)?2:0)>0&&(u-=4),u=3*(u>>2)+d,l=new Array(u),s=i=0;s<c&&-1!=(r=t[e.charCodeAt(s++)])&&-1!=(n=t[e.charCodeAt(s++)])&&(l[i++]=String.fromCharCode(r<<2|(48&n)>>4),-1!=(a=t[e.charCodeAt(s++)]))&&(l[i++]=String.fromCharCode((15&n)<<4|(60&a)>>2),-1!=(o=t[e.charCodeAt(s++)]));)l[i++]=String.fromCharCode((3&a)<<6|o);return l.join("")}));var n=2654435769;function a(e,r){var t=e.length,n=t<<2;if(r){var a=e[t-1];if(a<(n-=4)-3||a>n)return null;n=a}for(var o=0;o<t;o++)e[o]=String.fromCharCode(255&e[o],e[o]>>>8&255,e[o]>>>16&255,e[o]>>>24&255);var s=e.join("");return r?s.substring(0,n):s}function o(e,r){var t,n=e.length,a=n>>2;0!=(3&n)&&++a,r?(t=new Array(a+1))[a]=n:t=new Array(a);for(var o=0;o<n;++o)t[o>>2]|=e.charCodeAt(o)<<((3&o)<<3);return t}function s(e){return 4294967295&e}function i(e,r,t,n,a,o){return(t>>>5^r<<2)+(r>>>3^t<<4)^(e^r)+(o[3&n^a]^t)}function c(e){return e.length<4&&(e.length=4),e}function d(e){if(/^[\x00-\x7f]*$/.test(e))return e;for(var r=[],t=e.length,n=0,a=0;n<t;++n,++a){var o=e.charCodeAt(n);if(o<128)r[a]=e.charAt(n);else if(o<2048)r[a]=String.fromCharCode(192|o>>6,128|63&o);else{if(!(o<55296||o>57343)){if(n+1<t){var s=e.charCodeAt(n+1);if(o<56320&&56320<=s&&s<=57343){var i=65536+((1023&o)<<10|1023&s);r[a]=String.fromCharCode(240|i>>18&63,128|i>>12&63,128|i>>6&63,128|63&i),++n;continue}}throw new Error("Malformed string")}r[a]=String.fromCharCode(224|o>>12,128|o>>6&63,128|63&o)}}return r.join("")}function u(e,r){return(null==r||r<0)&&(r=e.length),0===r?"":/^[\x00-\x7f]*$/.test(e)||!/^[\x00-\xff]*$/.test(e)?r===e.length?e:e.substr(0,r):r<65535?function(e,r){for(var t=new Array(r),n=0,a=0,o=e.length;n<r&&a<o;n++){var s=e.charCodeAt(a++);switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t[n]=s;break;case 12:case 13:if(!(a<o))throw new Error("Unfinished UTF-8 octet sequence");t[n]=(31&s)<<6|63&e.charCodeAt(a++);break;case 14:if(!(a+1<o))throw new Error("Unfinished UTF-8 octet sequence");t[n]=(15&s)<<12|(63&e.charCodeAt(a++))<<6|63&e.charCodeAt(a++);break;case 15:if(!(a+2<o))throw new Error("Unfinished UTF-8 octet sequence");var i=((7&s)<<18|(63&e.charCodeAt(a++))<<12|(63&e.charCodeAt(a++))<<6|63&e.charCodeAt(a++))-65536;if(!(0<=i&&i<=1048575))throw new Error("Character outside valid Unicode range: 0x"+i.toString(16));t[n++]=i>>10&1023|55296,t[n]=1023&i|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+s.toString(16))}}return n<r&&(t.length=n),String.fromCharCode.apply(String,t)}(e,r):function(e,r){for(var t=[],n=new Array(32768),a=0,o=0,s=e.length;a<r&&o<s;a++){var i=e.charCodeAt(o++);switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[a]=i;break;case 12:case 13:if(!(o<s))throw new Error("Unfinished UTF-8 octet sequence");n[a]=(31&i)<<6|63&e.charCodeAt(o++);break;case 14:if(!(o+1<s))throw new Error("Unfinished UTF-8 octet sequence");n[a]=(15&i)<<12|(63&e.charCodeAt(o++))<<6|63&e.charCodeAt(o++);break;case 15:if(!(o+2<s))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&i)<<18|(63&e.charCodeAt(o++))<<12|(63&e.charCodeAt(o++))<<6|63&e.charCodeAt(o++))-65536;if(!(0<=c&&c<=1048575))throw new Error("Character outside valid Unicode range: 0x"+c.toString(16));n[a++]=c>>10&1023|55296,n[a]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+i.toString(16))}if(a>=32766){var d=a+1;n.length=d,t[t.length]=String.fromCharCode.apply(String,n),r-=d,a=-1}}return a>0&&(n.length=a,t[t.length]=String.fromCharCode.apply(String,n)),t.join("")}(e,r)}function l(e,r){return null==e||0===e.length?e:(e=d(e),r=d(r),a(function(e,r){var t,a,o,c,d,u,l=e.length,f=l-1;for(a=e[f],o=0,u=0|Math.floor(6+52/l);u>0;--u){for(c=(o=s(o+n))>>>2&3,d=0;d<f;++d)t=e[d+1],a=e[d]=s(e[d]+i(o,t,a,d,c,r));t=e[0],a=e[f]=s(e[f]+i(o,t,a,f,c,r))}return e}(o(e,!0),c(o(r,!1))),!1))}function f(e,r){return null==e||0===e.length?e:(r=d(r),u(a(function(e,r){var t,a,o,c,d,u=e.length,l=u-1;for(t=e[0],o=s(Math.floor(6+52/u)*n);0!==o;o=s(o-n)){for(c=o>>>2&3,d=l;d>0;--d)a=e[d-1],t=e[d]=s(e[d]-i(o,t,a,d,c,r));a=e[l],t=e[0]=s(e[0]-i(o,t,a,0,c,r))}return e}(o(e,!1),c(o(r,!1))),!0)))}e.XXTEA={utf8Encode:d,utf8Decode:u,encrypt:l,encryptToBase64:function(r,t){return e.btoa(l(r,t))},decrypt:f,decryptFromBase64:function(r,t){return null==r||0===r.length?r:f(e.atob(r),t)}}}(window)},878:function(e,r,t){"use strict";t.r(r);var n=t(2),a=t.n(n),o=t(3),s=t.n(o),i=(t(105),t(84)),c=t(42),d=t(8),u=t(325),l=t(177);t(507),new(function(){function e(){a()(this,e),this.event(),this.dragHtml=$(".js-drag-box").html(),$(".js-drag-box").remove(),"none"==$("#password-reset-form").css("display")?$("#password-reset-by-mobile-form").prepend(this.dragHtml):$("#password-reset-form").prepend(this.dragHtml),this.drag=new i.a($("#drag-btn"),$(".js-jigsaw"),{limitType:"reset_password"}),this.smsEvent(),this.validator(),this.smsToken=""}return s()(e,[{key:"event",value:function(){var e=this;$(".js-find-password li").click((function(){var r=$(this);if(!r.hasClass("active")){r.addClass("active").siblings().removeClass("active");var t=$(r.data("target"));t.length>0&&($("form").hide(),e.drag.unbindEvent(),$(".js-drag").remove(),t.prepend(e.dragHtml),e.drag=new i.a($("#drag-btn"),$(".js-jigsaw"),{limitType:"reset_password"}),t.show())}}))}},{key:"smsEvent",value:function(){var e=this,r=$(".js-sms-send"),t=this;r.click((function(n){var a=(new l.a).getCoordinate(n,$("meta[name=csrf-token]").attr("content"));if(e.mobileValidator.element($('[name="dragCaptchaToken"]'))&&e.mobileValidator.element($('[name="mobile"]'))){if(r.hasClass("disabled"))return;r.addClass("disabled"),c.a.resetPasswordSms.get({params:{mobile:$("#mobile").val()},data:{dragCaptchaToken:$('[name="dragCaptchaToken"]').val(),encryptedPoint:a}}).then((function(e){Object(d.a)("success",Translator.trans("notify.sms_send_success.message")),r.removeClass("disabled"),Object(u.a)($(".js-sms-send"),$("#js-fetch-btn-text"),120),t.smsToken=e.smsToken})).catch((function(){r.removeClass("disabled"),t.drag.initDragCaptcha()}))}}))}},{key:"validator",value:function(){var e=this;$("#password-reset-form").validate({rules:{email:{required:!0,email:!0},dragCaptchaToken:{required:!0}},messages:{dragCaptchaToken:{required:Translator.trans("site.captcha_code.required")}},submitHandler:function(r){var t=$("#password-reset-form").find('[name="email"]').val();c.a.resetPasswordEmail.patch({params:{email:t},data:{dragCaptchaToken:$('[name="dragCaptchaToken"]').val()}}).then((function(e){Object(d.a)("success",Translator.trans("notify.password_reset_email_send_success.message")),window.location.href=$("#password-reset-form").data("success")+"?email="+t})).catch((function(r){4040104==(r.responseJSON.error.code||0)&&e.drag.initDragCaptcha()}))}}),$.validator.addMethod("passwordSms",(function(r,t){var n=!1;return c.a.resetPasswordSms.validate({params:{mobile:$("#mobile").val(),smsCode:$("#sms-code").val()},data:{smsToken:e.smsToken},async:!1,promise:!1}).success((function(e){n="sms.code.success"==e})),n}),$.validator.format(Translator.trans("validate.sms_code.message"))),this.mobileValidator=$("#password-reset-by-mobile-form").validate({rules:{mobile:{required:!0,phone:!0},sms_code:{required:!0,unsigned_integer:!0,rangelength:[6,6],passwordSms:!0},dragCaptchaToken:{required:!0},reset_password:{required:!0,minlength:5,maxlength:20}},messages:{sms_code:{required:Translator.trans("auth.password_reset.sms_code_required_hint"),rangelength:Translator.trans("auth.password_reset.sms_code_validate_hint")},dragCaptchaToken:{required:Translator.trans("site.captcha_code.required")}},submitHandler:function(r){c.a.resetPasswordMobile.patch({params:{mobile:$("#mobile").val()},data:{smsToken:e.smsToken,smsCode:$("#sms-code").val(),encrypt_password:window.XXTEA.encryptToBase64($("#reset_password").val(),window.location.host),dragCaptchaToken:$('[name="dragCaptchaToken"]').val()}}).then((function(e){Object(d.a)("success",Translator.trans("notify.password_reset_success.message")),window.location.href=$("#password-reset-form").data("success")+"?mobile="+$("#mobile").val()}))}})}}]),e}())}});