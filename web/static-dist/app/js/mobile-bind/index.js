!function(t){function e(e){for(var n,o,s=e[0],u=e[1],c=e[2],l=0,f=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);for(d&&d(e);f.length;)f.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,s=1;s<r.length;s++){var u=r[s];0!==i[u]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},i={278:0},a=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static-dist/";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=u;a.push([1379,0]),r()}({1379:function(t,e,r){"use strict";r.r(e);var n=r(2),i=r.n(n),a=r(3),o=r.n(a),s=r(105),u=r(87),c=r.n(u),d=r(8),l=r(84),f=r(177);new(function(){function t(){i()(this,t),this.$form=$("#mobile-bind-form"),this.$smsCode=this.$form.find(".js-sms-send"),this.drag=null,this.initDrag(),this.dragEvent(),this.initValidator(),this.initMobileCodeSendBtn(),this.bindMobile(),this.initCheckCookie()}return o()(t,[{key:"dragEvent",value:function(){var t=this;this.drag&&this.drag.on("success",(function(e){t.$smsCode.removeClass("disabled").attr("disabled",!1)}))}},{key:"initCheckCookie",value:function(){$(".js-skip-bind").click((function(){var t="is_skip_mobile_bind";c.a.get(t)&&0!=c.a.get(t)||c.a.set(t,1),window.location.href=$("#submit-btn").data("targetUrl")}))}},{key:"initDrag",value:function(){this.drag=$("#drag-btn").length?new l.a($("#drag-btn"),$(".js-jigsaw"),{limitType:"web_register"}):null}},{key:"initValidator",value:function(){var t=this;this.validator=this.$form.validate({currentDom:"#submit-btn",ajax:!0,rules:{mobile:{required:!0,phone:!0,es_remote:{type:"get",callback:function(e){e?(t.$smsCode.removeAttr("disabled"),$(".binded-tip").addClass("hidden")):(t.$smsCode.attr("disabled",!0),$(".binded-tip").removeClass("hidden"))}}},sms_code:{required:!0,unsigned_integer:!0,es_remote:{type:"get"}}},messages:{sms_code:{required:Translator.trans("auth.mobile_captcha_required_error_hint")}},submitSuccess:function(t){Object(d.a)("success",Translator.trans(t.message))},submitError:function(t){Object(d.a)("danger",Translator.trans(t.responseJSON.message))}})}},{key:"initMobileCodeSendBtn",value:function(){var t=this;this.$smsCode.on("click",(function(){t.$smsCode.attr("disabled",!0);var e=(new f.a).getCoordinate(event,$("meta[name=csrf-token]").attr("content"));new s.a({element:".js-sms-send",url:t.$smsCode.data("url"),smsType:"sms_bind",captcha:!0,captchaValidated:!0,captchaNum:"dragCaptchaToken",encryptedPoint:e,preSmsSend:function(){return!0},error:function(e){t.drag.initDragCaptcha()},additionalAction:function(e){return"captchaRequired"==e&&(t.$smsCode.attr("disabled",!0),$(".js-drag-jigsaw").removeClass("hidden"),t.drag&&t.drag.initDragCaptcha(),!0)}})}))}},{key:"bindMobile",value:function(){var t=this;$("#submit-btn").click((function(){t.validator.form()&&$.post(t.$form.data("url"),t.$form.serialize(),(function(t){Object(d.a)("success",Translator.trans(t.message)),window.location.href=$("#submit-btn").data("targetUrl")})).error((function(t){Object(d.a)("danger",Translator.trans(t.responseJSON.message))}))}))}}]),t}())},177:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var n=r(2),i=r.n(n),a=r(3),o=r.n(a),s=2654435769;function u(t,e){var r=t.length,n=r<<2;if(e){var i=t[r-1];if(i<(n-=4)-3||i>n)return null;n=i}for(var a=0;a<r;a++)t[a]=String.fromCharCode(255&t[a],t[a]>>>8&255,t[a]>>>16&255,t[a]>>>24&255);var o=t.join("");return e?o.substring(0,n):o}function c(t,e){var r,n=t.length,i=n>>2;0!=(3&n)&&++i,e?(r=new Array(i+1))[i]=n:r=new Array(i);for(var a=0;a<n;++a)r[a>>2]|=t.charCodeAt(a)<<((3&a)<<3);return r}function d(t){return 4294967295&t}function l(t,e,r,n,i,a){return(r>>>5^e<<2)+(e>>>3^r<<4)^(t^e)+(a[3&n^i]^r)}function f(t){return t.length<4&&(t.length=4),t}function h(t){if(/^[\x00-\x7f]*$/.test(t))return t;for(var e=[],r=t.length,n=0,i=0;n<r;++n,++i){var a=t.charCodeAt(n);if(a<128)e[i]=t.charAt(n);else if(a<2048)e[i]=String.fromCharCode(192|a>>6,128|63&a);else{if(!(a<55296||a>57343)){if(n+1<r){var o=t.charCodeAt(n+1);if(a<56320&&56320<=o&&o<=57343){var s=65536+((1023&a)<<10|1023&o);e[i]=String.fromCharCode(240|s>>18&63,128|s>>12&63,128|s>>6&63,128|63&s),++n;continue}}throw new Error("Malformed string")}e[i]=String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a)}}return e.join("")}function g(t,e){return null==t||0===t.length?t:(t=h(t),e=h(e),u(function(t,e){var r,n,i,a,o,u,c=t.length,f=c-1;for(n=t[f],i=0,u=0|Math.floor(6+52/c);u>0;--u){for(a=(i=d(i+s))>>>2&3,o=0;o<f;++o)r=t[o+1],n=t[o]=d(t[o]+l(i,r,n,o,a,e));r=t[0],n=t[f]=d(t[f]+l(i,r,n,f,a,e))}return t}(c(t,!0),f(c(e,!1))),!1))}var b=function(){function t(){i()(this,t)}return o()(t,[{key:"getCoordinate",value:function(t,e){var r=e,n=t.screenX+","+t.screenY;return"1."+btoa(g(n,r))}}]),t}()},22:function(t,e){t.exports=jQuery}});