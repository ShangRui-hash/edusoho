(window.webpackJsonp=window.webpackJsonp||[]).push([[422],{2032:function(t,a,e){"use strict";e.r(a);var r=e(406),s=e.n(r),n=e(235),i=e.n(n),o=e(2070),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(t.query,t.params),e=void 0===a?{}:a;t.data;return o.a.get("/api/dashboard_graphic_datum",{params:e})},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(t.query,t.params),e=void 0===a?{}:a;t.data;return o.a.get("/api/dashboard_rank_list",{params:e})},l=e(2074),d={name:"dashboardCard",components:{},props:{graphicData:{type:Object,require:!0}},data:function(){return{}},computed:{},mounted:function(){},methods:{}},p=(e(2329),e(31)),m=Object(p.a)(d,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"dashboard-card"},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:6}},[a("a-card",{staticStyle:{"border-top":"2px solid #5CCFEA"},attrs:{bordered:!1}},[a("a-row",[a("div",{staticClass:"card"},[a("svg-icon",{staticClass:"icon icon-add-student",attrs:{icon:"icon-add-student"}}),t._v(" "),a("div",{staticClass:"right-block"},[a("p",{staticClass:"card-title text-size"},[t._v("昨日新增学员总人数")]),t._v(" "),a("span",{staticClass:"card-count text-size",staticStyle:{color:"#5CCFEA"}},[t._v(t._s(t.graphicData.totalNewStudentNum))])])],1)])],1)],1),t._v(" "),a("a-col",{attrs:{span:6}},[a("a-card",{staticStyle:{"border-top":"2px solid #FFC173"},attrs:{bordered:!1}},[a("a-row",[a("div",{staticClass:"card"},[a("svg-icon",{staticClass:"icon icon-add-student-success",attrs:{icon:"icon-add-student-success"}}),t._v(" "),a("div",{staticClass:"right-block"},[a("p",{staticClass:"card-title text-size"},[t._v("昨日结课学员总人数")]),t._v(" "),a("span",{staticClass:"card-count text-size",staticStyle:{color:"#FFC173"}},[t._v(t._s(t.graphicData.totalFinishedStudentNum))])])],1)])],1)],1),t._v(" "),a("a-col",{attrs:{span:6}},[a("router-link",{attrs:{to:{name:"MultiClassInspection"}}},[a("a-card",{staticStyle:{"border-top":"2px solid #42D668"},attrs:{bordered:!1}},[a("a-row",[a("div",{staticClass:"card"},[a("svg-icon",{staticClass:"icon icon-live-broad",attrs:{icon:"icon-live-broad"}}),t._v(" "),a("div",{staticClass:"right-block"},[a("p",{staticClass:"card-title text-size"},[t._v("今日直播数")]),t._v(" "),a("span",{staticClass:"card-count text-size",staticStyle:{color:"#42D668"}},[t._v(t._s(t.graphicData.todayLiveData.overLiveNum)+"/"),a("span",{staticStyle:{color:"#BEBEBE"}},[t._v(t._s(t.graphicData.todayLiveData.totalLiveNum))])])])],1)])],1)],1)],1),t._v(" "),a("a-col",{attrs:{span:6}},[a("router-link",{attrs:{to:{name:"Overtime"}}},[a("a-card",{staticStyle:{"border-top":"2px solid #FF6666"},attrs:{bordered:!1}},[a("a-row",[a("div",{staticClass:"card"},[a("svg-icon",{staticClass:"icon icon-edit-group",attrs:{icon:"icon-edit-group"}}),t._v(" "),a("div",{staticClass:"right-block"},[a("p",{staticClass:"card-title text-size"},[t._v("超时未批阅数")]),t._v(" "),a("span",{staticClass:"card-count text-size",staticStyle:{color:"#FF6666"}},[t._v(t._s(t.graphicData.timeoutReviewNum))])])],1)])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,h=e(2220),v={name:"xDiagram",components:{},props:{graphicData:Object},data:function(){return{}},computed:{chartDataDouble:function(){return[{item:"已开班班课",count:this.graphicData.startNum},{item:"未开班班课",count:this.graphicData.notStartNum}]}},mounted:function(){},watch:{chartDataDouble:{handler:function(){this.initChart()},deep:!0}},methods:{initChart:function(){var t=this,a=new h.a({container:"xDiagram",autoFit:!0,height:258,defaultInteractions:["tooltip"]});a.data(this.chartDataDouble),a.coordinate("theta",{radius:.7,innerRadius:.6}),a.legend({position:"left",background:{padding:[0,0,0,60],style:"border:unset"},itemHeight:80,itemName:{formatter:function(a,e,r){return"".concat(a,": ").concat(t.chartDataDouble[r].count)},style:{fontSize:18}}}),a.tooltip({showTitle:!1,showMarkers:!1,itemTpl:'<li class="g2-tooltip-list-item"><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),a.interval().adjust("stack").position("count").color("item",["#5AD8A6","#5B8FF9"]).label("item",(function(){return{offset:18,style:{fontSize:18}}})).tooltip("item*count",(function(t,a){return{name:t,value:a}})),a.removeInteraction("legend-filter"),a.render()}}},f=Object(p.a)(v,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",[t("div",{attrs:{id:"xDiagram"}})])}],!1,null,"d73e9e4e",null).exports,g={name:"yDiagram",components:{},props:{graphicData:Object},data:function(){return{}},computed:{chartDataDouble:function(){return[{item:"在读学员人数",count:this.graphicData.studyNum},{item:"未开班学员人数",count:this.graphicData.notStudyNum}]}},mounted:function(){},watch:{chartDataDouble:{handler:function(){this.initChart()},deep:!0}},methods:{initChart:function(){var t=this,a=new h.a({container:"yDiagram",autoFit:!0,height:258,defaultInteractions:["tooltip"]});a.data(this.chartDataDouble),a.coordinate("theta",{radius:.7,innerRadius:.6}),a.legend({position:"left",background:{padding:[0,0,0,60],style:"border:unset"},itemHeight:80,itemName:{formatter:function(a,e,r){return"".concat(a,": ").concat(t.chartDataDouble[r].count)},style:{fontSize:18}}}),a.tooltip({showTitle:!1,showMarkers:!1,itemTpl:'<li class="g2-tooltip-list-item"><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),a.interval().adjust("stack").position("count").color("item",["#5AD8A6","#5B8FF9"]).label("item",(function(){return{offset:18,style:{fontSize:18}}})).tooltip("item*count",(function(t,a){return{name:t,value:a}})),a.removeInteraction("legend-filter"),a.render()}}},_=Object(p.a)(g,(function(){return(0,this._self._c)("div",{attrs:{id:"yDiagram"}})}),[],!1,null,"470b9f74",null).exports,b=e(440),D=e.n(b),y={name:"TableData",components:{},props:{title:{type:String,require:!0},data:{type:Object,required:!0}},data:function(){return{columns:[{title:"排名",dataIndex:"rank",align:"center",width:"30%",ellipsis:!0,scopedSlots:{customRender:"rank"}},{title:"班课名称",dataIndex:"multiClass",ellipsis:!0},{dataIndex:"rate",ellipsis:!0,scopedSlots:{customRender:"rate",title:"rateTitle"}}],order:"descSort"}},computed:{tableData:function(){var t=this.data,a=t.ascSort,e=t.descSort;return a=D.a.slice(a,0,10),e=D.a.slice(e,0,10),"ascSort"===this.order?a:e}},created:function(){},methods:{changeOrder:function(t){this.order=t.target.value},toPercent:function(t){var a=Number(100*t).toFixed(0);return a+="%"}}},C=(e(2334),Object(p.a)(y,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"table-data"},[a("div",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v(t._s(t.title))]),t._v(" "),a("a-radio-group",{staticClass:"title-button",attrs:{"default-value":"descSort","button-style":"solid"},on:{change:t.changeOrder}},[a("a-radio-button",{attrs:{value:"ascSort"}},[t._v("\n        升序\n      ")]),t._v(" "),a("a-radio-button",{attrs:{value:"descSort"}},[t._v("\n        降序\n      ")])],1)],1),t._v(" "),a("a-table",{attrs:{columns:t.columns,"data-source":t.tableData,pagination:!1,"row-key":"courseId"},scopedSlots:t._u([{key:"rank",fn:function(a,e,r){return[t._v("\n      "+t._s(r+1)+"\n    ")]}},{key:"rate",fn:function(e,r){return[a("span",e||0===e?[t._v(t._s(t.toPercent(e)))]:[t._v(t._s(r.count))])]}}])},[t._v(" "),t._v(" "),a("template",{slot:"rateTitle"},[a("span",[t._v(t._s(t.title))])])],2)],1)}),[],!1,null,"268b0cdf",null).exports),S={name:"overview",components:{AsideLayout:l.a,DashboardCard:m,XDiagram:f,YDiagram:_,TableData:C},data:function(){return{graphicData:{totalNewStudentNum:0,totalFinishedStudentNum:0,todayLiveData:{totalLiveNum:0,overLiveNum:0},timeoutReviewNum:0,multiClassData:{startNum:0,notStartNum:0},studyStudentData:{studyNum:0,notStudyNum:0}},studentDataSource:{newStudentRankList:{},reviewData:{},finishedRateList:{},questionAnswerRateList:{}},getListLoading:!1}},computed:{},created:function(){this.getGraphicData(),this.getRankData()},methods:{getGraphicData:function(){var t=this;return s()(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.getListLoading=!0,a.next=4,c();case 4:t.graphicData=a.sent;case 5:return a.prev=5,t.getListLoading=!1,a.finish(5);case 8:case"end":return a.stop()}}),a,null,[[0,,5,8]])})))()},getRankData:function(){var t=this;return s()(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.getListLoading=!0,a.next=4,u();case 4:t.studentDataSource=a.sent;case 5:return a.prev=5,t.getListLoading=!1,a.finish(5);case 8:case"end":return a.stop()}}),a,null,[[0,,5,8]])})))()}}},w=(e(2335),Object(p.a)(S,(function(){var t=this,a=t._self._c;return a("aside-layout",{attrs:{breadcrumbs:[{name:"教务仪表盘"}]}},[a("a-spin",{attrs:{spinning:t.getListLoading}},[a("dashboard-card",{attrs:{graphicData:t.graphicData}}),t._v(" "),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("div",{staticClass:"diagram-layout"},[a("x-diagram",{attrs:{graphicData:t.graphicData.multiClassData}})],1)]),t._v(" "),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"diagram-layout"},[a("y-diagram",{attrs:{graphicData:t.graphicData.studyStudentData}})],1)])],1),t._v(" "),a("a-row",{attrs:{gutter:[24,32]}},[a("a-col",{attrs:{span:12}},[a("table-data",{attrs:{title:"昨日新增学员人数",data:t.studentDataSource.newStudentRankList}})],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("table-data",{attrs:{title:"昨日完课率",data:t.studentDataSource.finishedRateList}})],1)],1),t._v(" "),a("a-row",{attrs:{gutter:[24,32]}},[a("a-col",{attrs:{span:12}},[a("table-data",{attrs:{title:"作业批改率",data:t.studentDataSource.reviewData}})],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("table-data",{attrs:{title:"问答回答率",data:t.studentDataSource.questionAnswerRateList}})],1)],1)],1)],1)}),[],!1,null,"56a6e9a2",null));a.default=w.exports},2070:function(t,a,e){"use strict";e.d(a,"a",(function(){return c}));e(26);var r=e(34),s=e.n(r),n=e(80),i=e.n(n),o=e(49),c=i.a.create({timeout:15e3}),u=document.getElementsByTagName("meta")["csrf-token"];u&&localStorage.setItem("csrf-token",u.content),c.interceptors.request.use((function(t){return t.headers["X-Requested-With"]="XMLHttpRequest",t.headers["X-CSRF-Token"]=localStorage.getItem("csrf-token"),t.headers.Accept="application/vnd.edusoho.v2+json",t}),(function(t){return s.a.reject(t)})),c.interceptors.response.use((function(t){return t.data}),(function(t){try{o.a.prototype.$message.error(t.response.data.error.message)}catch(t){}return s.a.reject(t)}))},2073:function(t,a,e){},2074:function(t,a,e){"use strict";var r={name:"AsideLayout",props:{breadcrumbs:{type:Array,required:!0},headerTitle:{type:String,default:""},headerTip:{type:String,default:""}}},s=(e(2076),e(31)),n=Object(s.a)(r,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"aside-layout"},[a("div",{staticClass:"aside-layout-header"},[a("a-breadcrumb",{staticClass:"pull-left aside-layout-header__breadcrumb",attrs:{separator:"/"}},t._l(t.breadcrumbs,(function(e,r){return a("a-breadcrumb-item",{key:r},[e.href?[a("a",{attrs:{href:e.href,target:"_blank"}},[t._v(t._s(e.name))])]:e.pathName?[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.$router.push({name:e.pathName})}}},[t._v(t._s(e.name))])]:[t._v("\n          "+t._s(e.name)+"\n        ")]],2)})),1),t._v(" "),t.headerTip?a("a-popover",{attrs:{placement:"bottomLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"aside-header-tip",domProps:{innerHTML:t._s(t.headerTip)}})]),t._v(" "),a("span",{staticClass:"aside-header-title-icon"},[a("a-icon",{attrs:{theme:"filled",type:"question-circle"}}),a("span",{staticClass:"icon-circle"},[t._v(t._s(t.headerTitle))])],1)],2):t._e()],1),t._v(" "),a("div",{staticClass:"aside-layout-main"},[t._t("default")],2)])}),[],!1,null,null,null);a.a=n.exports},2076:function(t,a,e){"use strict";e(2073)},2207:function(t,a,e){},2213:function(t,a,e){},2214:function(t,a,e){},2329:function(t,a,e){"use strict";e(2207)},2334:function(t,a,e){"use strict";e(2213)},2335:function(t,a,e){"use strict";e(2214)}}]);