(window.webpackJsonp=window.webpackJsonp||[]).push([["my"],{"5ede":function(t,e,i){"use strict";var s=i("240b");e.a={beforeRouteEnter:function(t,e,i){s.a.state.token?i():i({name:"prelogin",query:{redirect:t.fullPath}})}}},7067:function(t,e,i){"use strict";i("e17f");var s=i("2241"),r=(i("e7e5"),i("d399")),a=i("a026"),n=i("3ce7"),c=/micromessenger/.test(navigator.userAgent.toLowerCase());e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||i&&!e)r.a.fail("缺少分享参数");else{var o={domainUri:location.origin,itemUri:"",source:"h5"};n.a.marketingActivities({query:{activityId:t},data:o}).then((function(t){var n=-1!==t.url.indexOf("?")?"&":"?",o=i?"".concat(e).concat(n,"ticket=").concat(t.ticket):t.url;c?window.location.href=o:s.a.confirm({message:"去微信完成活动",confirmButtonText:"复制链接",title:""}).then((function(){try{a.default.prototype.$copyText(o).then((function(){r.a.success("复制成功")}),(function(){r.a.fail("请更换浏览器复制")}))}catch(t){r.a.fail("请更换浏览器复制")}})).catch((function(){}))})).catch((function(t){r.a.fail(t.message)}))}}},8807:function(t,e,i){"use strict";i("a481"),i("ac6a"),i("456d"),i("7f7f"),i("c5f6"),i("8e6e");var s=i("bd86"),r=i("2f62");function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){Object(s.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={props:{type:{type:String,default:"price"},course:{type:Object,default:function(){return{}}},order:{type:Object,default:function(){return{}}}},data:function(){return{isFree:0==this.course.price}},computed:n(n({},Object(r.e)(["courseSettings"])),{},{rate:function(){return parseInt(this.course.publishedTaskNum)?parseInt(this.course.progress.percent):0},showStudent:function(){return!this.courseSettings||Number(this.courseSettings.show_student_num_enabled)}}),filters:{numFilter:function(t){return t?parseFloat(t).toFixed(2):""}},methods:{goToPay:function(){this.$router.replace({path:"/pay",query:{id:this.order.id,source:"order",sn:this.order.sn,targetId:this.order.targetId,targetType:this.order.targetType}})},displayPrice:function(t){var e,i=this.type;if("order"===i){var s=t.currency,r=t.coinAmount,a=t.coinName,n=t.amount;return"coin"===s?(e=r?(r/100).toFixed(2):"",e="".concat(e," ").concat(a)):"RMB"===s&&(e=n?(n/100).toFixed(2):"",e="¥ ".concat(e)),e}if("confirmOrder"===i){var c=t.priceType,o=t.coinPayAmount,l=t.coinName,u=t.totalPrice;return"Coin"===c?(e=o?parseFloat(o).toFixed(2):"",e="".concat(e," ").concat(l)):"RMB"===c&&(e="¥ ".concat(u)),e}}}},o=i("0c7c"),l={components:{switchBox:Object(o.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"e-course-switch-box"},["price"===t.type?i("div",{staticClass:"switch-box"},[i("span",{staticClass:"switch-box__price"},[t.isFree?i("p",{staticClass:"free"},[t._v(t._s(t.$t("e.free")))]):t._e(),t.isFree?t._e():i("p",{staticClass:"price"},[t._v("¥ "+t._s(t.course.price))])]),i("span",{staticClass:"switch-box__state"},[t.showStudent?i("p",[t._v(t._s(t.$t("e.personStudying",{number:t.course.studentNum})))]):t._e()])]):t._e(),"order"===t.type?i("div",{staticClass:"switch-box"},[i("span",{staticClass:"switch-box__price"},[t.isFree?i("p",{staticClass:"free"},[t._v(t._s(t.$t("e.free")))]):t._e(),t.isFree?t._e():i("p",{staticClass:"price"},[t._v("\n        "+t._s(t.displayPrice(t.order.priceConvert))+"\n      ")])]),i("span",{staticClass:"switch-box__state"},["created"!==t.order.status&&"paying"!==t.order.status?i("p",{class:t.order.status},[t._v("\n        "+t._s(t._f("filterOrderStatus")(t.order.status))+"\n      ")]):t._e(),"created"===t.order.status||"paying"===t.order.status?i("span",{staticClass:"order-pay",on:{click:t.goToPay}},[t._v(t._s(t._f("filterOrderStatus")(t.order.status)))]):t._e()])]):t._e(),"confirmOrder"===t.type?i("div",{staticClass:"switch-box"},[i("span",{staticClass:"switch-box__price"},[i("p",{staticClass:"price"},[t._v(t._s(t.displayPrice(t.order)))])])]):t._e(),"rank"===t.type?i("div",{staticClass:"rank-box"},[i("div",{staticClass:"progress round-conner"},[i("div",{staticClass:"curRate round-conner",style:{width:t.rate+"%"}})]),i("span",[t._v(t._s(this.rate)+"%")])]):t._e()])}),[],!1,null,null,null).exports},props:{course:{type:Object,default:function(){return{}}},order:{type:Object,default:function(){return{}}},type:{type:String,default:"price"},feedback:{type:Boolean,default:!0},typeList:{type:String,default:"course_list"},duration:{type:[Number,String],default:0}},data:function(){return{pathName:this.$route.name}},computed:{imgSrc:function(){if("classroom_list"===this.typeList)return this.course.cover.middle;var t=this.course.courseSet;return(t?t.cover.middle:this.order.cover.middle)||""},title:function(){return"classroom_list"===this.typeList?this.course.title:this.course.courseSetTitle||(this.course.courseSet?this.course.courseSet.title:"")||this.order.title},teachPlan:function(){return!!this.course.title&&this.course.title},imgClass:function(){return"vip"===this.typeList?"e-vip__img":"e-course__img"}},watch:{course:{handler:function(t){var e=t.courseSet;if("miniprogramSetting"===this.pathName&&e)for(var i=Object.keys(e.cover),s=0;s<i.length;s++)e.cover[i[s]]=e.cover[i[s]].replace(/^(\/\/)|(http:\/\/)/,"https://")},immediate:!0}},methods:{onClick:function(t){if(this.feedback&&"vip"!==this.typeList){var e="order"===this.type,i=this.course.id||this.order.targetId;"SPAN"!==t.target.tagName&&(e?"course"===this.typeList||"classroom"===this.typeList?this.$router.push({path:"/goods/".concat(this.order.goodsId,"/show"),query:{targetId:this.order.targetId,type:this.typeList+"_list"}}):location.href=this.order.targetUrl:"course"!==this.typeList&&("classroom_list"===this.typeList&&this.$router.push({path:"/classroom/".concat(i)}),"course_list"===this.typeList&&this.$router.push({path:"/course/".concat(i)})))}}}},u=Object(o.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"e-course"},[i("div",{staticClass:"clearfix",on:{click:t.onClick}},[i("div",{staticClass:"e-course__left pull-left"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgSrc,expression:"imgSrc"}],class:t.imgClass})]),i("div",{staticClass:"e-course__right pull-left"},["confirmOrder"===t.type?i("div",{staticClass:"e-course__title course-confirm-title"},[t._v("\n        "+t._s(t.title)+"\n      ")]):i("div",[i("div",{staticClass:"e-course__title text-overflow"},[t._v(t._s(t.title))]),"classroom_list"===t.typeList?i("div",{staticClass:"e-course__count"},[t._v("\n          "+t._s(t.$t("e.totalOfTwoCourses",{number:t.course.courseNum}))+"\n        ")]):t._e(),"course_list"===t.typeList?i("div",{staticClass:"e-course__project text-overflow"},[t.teachPlan?i("span",[t._v(t._s(t.teachPlan))]):t._e()]):t._e()]),i("switchBox",{attrs:{type:t.type,course:t.course,order:t.order,"student-num":t.course.studentNum,"published-task-num":t.course.publishedTaskNum}})],1)])])}),[],!1,null,null,null);e.a=u.exports},a262:function(t,e,i){"use strict";var s=i("7067");e.a={methods:{activityHandle:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(s.a)(t,e,i)}}}},b864:function(t,e,i){"use strict";i.r(e),i("8e6e"),i("ac6a"),i("456d");var s=i("bd86"),r=(i("e7e5"),i("d399")),a=i("75fc"),n=i("8807"),c=i("3ce7"),o={components:{eCourse:n.a},data:function(){return{list:[],isFirstRequestCompile:!1,loading:!1,finished:!1,offset:0}},created:function(){},methods:{onLoad:function(){var t=this,e={offset:this.offset};c.a.getMyOrder({params:e}).then((function(e){var i=e.data,s=e.paging;t.isFirstRequestCompile=!0,t.list=[].concat(Object(a.a)(t.list),Object(a.a)(i)),t.offset=t.list.length,t.list.length==s.total&&(t.finished=!0),t.loading=!1})).catch((function(e){r.a.fail(e.message),t.isFirstRequestCompile=!0,t.loading=!1}))}}},l=i("0c7c"),u=Object(l.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orders"},[0===t.list.length&&t.isFirstRequestCompile?i("div",{staticClass:"orders-container__empty"},[i("img",{attrs:{src:"static/images/orderEmpty.png"}}),i("span",[t._v(t._s(t.$t("order.noOrderRecord")))])]):i("div",{staticClass:"order"},[i("van-list",{staticClass:"tab-list",attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t){return i("e-course",{key:t.id,attrs:{order:t,"type-list":t.targetType,type:"order"}})})),1)],1)])}),[],!1,null,null,null).exports,p=(i("c5f6"),{cut:"砍价",groupon:"拼团",seckill:"秒杀"}),d={cut:"砍",groupon:"团",seckill:"秒"},v={successed:"成功",ongoing:"中",failed:"失败"},f={name:"ActivityItem",mixins:[i("a262").a],props:{activity:{type:Object,default:function(){return{}}}},data:function(){return{type2symbol:d,type2label:p,status2label:v,activityId:Number(this.activity.activityId)}},methods:{viewDetail:function(t){}}},h={components:{activityItem:Object(l.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"marketing-groupon activity-cell",on:{click:t.viewDetail}},[i("div",{staticClass:"activity-cell__head"},[i("span",{staticClass:"head-left",class:t.activity.type},[t._v(t._s(t.type2symbol[t.activity.type]))]),i("span",{staticClass:"head-right",class:t.activity.status},[t._v(t._s(t.type2label[t.activity.type]+t.status2label[t.activity.status]))])]),i("div",{staticClass:"activity-cell__body",on:{click:function(e){return t.activityHandle(t.activityId)}}},[i("div",{staticClass:"marketing-groupon__image-container",class:{"marketing-groupon__image-empty":!t.activity.cover}},[t.activity.cover?i("img",{staticClass:"marketing-groupon__image",attrs:{src:t.activity.cover}}):t._e()]),i("div",{staticClass:"marketing-groupon__context e-groupon__context"},[i("div",{staticClass:"context-title text-overflow"},[t._v(t._s(t.activity.name))]),i("div",{staticClass:"context-sale"},[t.activity.price?i("span",{staticClass:"context-sale__sale-price"},[t._v(t._s(t.activity.price)+"元")]):t._e(),t.activity.originPrice?i("span",{staticClass:"context-sale__origin-price"},[t._v(t._s(t.activity.originPrice)+"元")]):t._e(),i("span",{staticClass:"context-sale__shopping"},[t._v(t._s(t.type2label[t.activity.type])+"详情")])])])])])}),[],!1,null,"057b9336",null).exports},data:function(){return{list:[],isFirstRequestCompile:!1,loading:!1,finished:!1,offset:0}},mounted:function(){this.onLoad()},methods:{onLoad:function(){var t=this,e={offset:this.offset};c.a.myActivities({params:e}).then((function(e){var i=e.data,s=e.paging;t.isFirstRequestCompile=!0,t.list=[].concat(Object(a.a)(t.list),Object(a.a)(i)),t.offset=t.list.length,t.list.length==s.total&&(t.finished=!0),t.loading=!1})).catch((function(e){r.a.fail(e.message),t.isFirstRequestCompile=!0,t.loading=!1}))}}},m=Object(l.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orders"},[0===t.list.length&&t.isFirstRequestCompile?i("div",{staticClass:"orders-container__empty"},[i("img",{attrs:{src:"static/images/orderEmpty.png"}}),i("span",[t._v("暂无活动记录")])]):i("div",{staticClass:"activity"},[i("van-list",{staticClass:"tab-list",attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t,e){return i("activity-item",{key:e,attrs:{activity:t}})})),1)],1)])}),[],!1,null,null,null).exports,g=i("2f62");function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){Object(s.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b={computed:_(_({},Object(g.e)(["user","vipSwitch"])),{},{vipDated:function(){var t=new Date(this.user.vip.deadline).getTime();return(new Date).getTime()>t}}),created:function(){this.getUserInfo()},methods:_({},Object(g.c)(["getUserInfo"]))};function C(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?C(Object(i),!0).forEach((function(e){Object(s.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w=[{name:"enter.mistakesCollection",link:"myWrongQuestionBook"}],x={components:{Orders:u,activity:m,User:Object(l.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user"},[i("div",{staticClass:"user-section clearfix"},[i("router-link",{attrs:{to:"/settings"}},[i("div",{staticClass:"user-img"},[t.user.avatar?i("img",{attrs:{src:t.user.avatar.large}}):t._e(),t.user.vip&&!t.vipDated&&t.vipSwitch?i("img",{staticClass:"user-vip-icon",attrs:{src:t.user.vip.icon,alt:""}}):t._e()])]),i("div",{staticClass:"user-middle"},[i("div",{staticClass:"user-name"},[t._v(t._s(t.user.nickname))])]),i("router-link",{staticClass:"user-setting",attrs:{to:"/settings"}},[i("img",{attrs:{src:"static/images/setting.png"}})])],1),t.vipSwitch?i("div",{staticClass:"user-member"},[i("div",{staticClass:"user-member-style"},[i("div",{staticClass:"user-member-text"},[i("img",{attrs:{src:"static/images/vip_enter.png"}}),t.user.vip?i("div",{staticClass:"user-vip",class:{"user-vip-open":t.vipDated}},[i("router-link",{staticClass:"clearfix",attrs:{to:{path:"/vip",query:{id:t.user.vip.levelId}}}},[t.vipDated?[i("span",[t._v(t._s(t.$t("vip.yourMembershipHasExpired")))]),i("span",{staticClass:"pull-right"},[t._v("\n                "+t._s(t.$t("vip.immediatelyRenewals"))+"\n                "),i("van-icon",{attrs:{name:"arrow"}})],1)]:[i("span",{staticClass:"pull-left"},[i("p",[t._v(t._s(t.user.vip.vipName))]),i("p",{staticStyle:{"font-size":"12px","margin-top":"2px"}},[t._v("\n                  "+t._s(t.$t("vip.memberExpirationTime"))+"：\n                  "+t._s(t.$moment(t.user.vip.deadline).format("YYYY-MM-DD"))+"\n                ")])]),i("span",{staticClass:"pull-right",staticStyle:{"margin-top":"10px"}},[t._v("\n                "+t._s(t.$t("vip.renewalUpgrade"))+"\n                "),i("van-icon",{attrs:{name:"arrow"}})],1)]],2)],1):i("div",{staticClass:"user-vip user-vip-open"},[i("router-link",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"},attrs:{to:"/vip"}},[i("span",{staticStyle:{"max-width":"72%"}},[t._v(t._s(t.$t("vip.youAreNotAVipYet")))]),i("span",[t._v("\n              "+t._s(t.$t("vip.joinNow"))+"\n              "),i("van-icon",{attrs:{name:"arrow"}})],1)])],1)])])]):t._e()])}),[],!1,null,null,null).exports},mixins:[i("5ede").a],data:function(){return{activeIndex:0,tabs:["enter.myOrder","enter.activities"],hasBusinessDrainage:!1,isShowDistributorEntrance:!1,drpSetting:{},entryData:w}},computed:O(O({},Object(g.e)(["DrpSwitch"])),Object(g.e)({isLoading:function(t){return t.isLoading}})),created:function(){var t=this;setTimeout((function(){window.scrollTo(0,0)}),100),c.a.hasPluginInstalled().then((function(e){t.hasBusinessDrainage=e.BusinessDrainage})),this.showDistributorEntrance()},methods:{showDistributorEntrance:function(){this.DrpSwitch?(this.getDrpSetting(),this.getAgencyBindRelation()):this.isShowDistributorEntrance=!1},getAgencyBindRelation:function(){var t=this;c.a.getAgencyBindRelation().then((function(e){e.agencyId?t.isShowDistributorEntrance=!0:t.isShowDistributorEntrance=!1}))},getDrpSetting:function(){var t=this;c.a.getDrpSetting().then((function(e){t.drpSetting=e}))}}},j=Object(l.a)(x,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isLoading?i("e-loading"):t._e(),i("user"),i("router-link",{attrs:{to:{name:"couponCovert"}}},[t.hasBusinessDrainage?i("div",{staticClass:"coupon-code-entrance"},[t._v("\n      "+t._s(t.$t("enter.coupon"))+"\n      "),i("i",{staticClass:"van-icon van-icon-arrow pull-right"})]):t._e()]),t.isShowDistributorEntrance?i("a",{attrs:{href:t.drpSetting.distributor_login_url}},[i("div",{staticClass:"coupon-code-entrance"},[t._v("\n      "+t._s(t.$t("enter.distribution"))+"\n      "),i("i",{staticClass:"van-icon van-icon-arrow pull-right"})])]):t._e(),i("router-link",{attrs:{to:{name:"my_certificate"}}},[i("div",{staticClass:"coupon-code-entrance"},[t._v("\n      "+t._s(t.$t("enter.myCertificate"))+"\n      "),i("i",{staticClass:"van-icon van-icon-arrow pull-right"})])]),t._l(t.entryData,(function(e,s){return[i("router-link",{key:s,attrs:{to:{name:e.link}}},[i("div",{staticClass:"coupon-code-entrance"},[t._v("\n        "+t._s(t.$t(e.name))+"\n        "),i("i",{staticClass:"van-icon van-icon-arrow pull-right"})])])]})),i("van-tabs",{staticClass:"after-tabs e-learn",model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.tabs,(function(e,s){return i("van-tab",{key:s,attrs:{title:t.$t(e)}})})),1),i("orders",{directives:[{name:"show",rawName:"v-show",value:0===t.activeIndex,expression:"activeIndex === 0"}]}),i("activity",{directives:[{name:"show",rawName:"v-show",value:1===t.activeIndex,expression:"activeIndex === 1"}]})],2)}),[],!1,null,null,null);e.default=j.exports}}]);